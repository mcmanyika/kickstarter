(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{96156:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},56854:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(87757),a=n.n(r),l=n(92137),s=n(6610),i=n(5991),o=n(65255),c=n(86089),u=n(77608),d=n(67294),p=n(22122),f=n(36744),v=n(86010),m=(n(45697),n(92063)),h=n(28935),Z=n(12519),b=n(92248);function g(e){var t=e.children,n=e.className,r=(0,v.Z)(n),a=(0,h.Z)(g,e),l=(0,Z.Z)(g,e);return d.createElement(l,(0,p.Z)({},a,{className:r}),t)}g.handledProps=["as","children","className"],g.defaultProps={as:"tbody"},g.propTypes={};var y=g,G=n(17186),w=n(65382);function N(e){var t=e.active,n=e.children,r=e.className,a=e.collapsing,l=e.content,s=e.disabled,i=e.error,o=e.icon,c=e.negative,u=e.positive,f=e.selectable,g=e.singleLine,y=e.textAlign,G=e.verticalAlign,k=e.warning,R=e.width,C=(0,v.Z)((0,m.lG)(t,"active"),(0,m.lG)(a,"collapsing"),(0,m.lG)(s,"disabled"),(0,m.lG)(i,"error"),(0,m.lG)(c,"negative"),(0,m.lG)(u,"positive"),(0,m.lG)(f,"selectable"),(0,m.lG)(g,"single line"),(0,m.lG)(k,"warning"),(0,m.X4)(y),(0,m.Ok)(G),(0,m.H0)(R,"wide"),r),P=(0,h.Z)(N,e),E=(0,Z.Z)(N,e);return b.kK(n)?d.createElement(E,(0,p.Z)({},P,{className:C}),w.Z.create(o),l):d.createElement(E,(0,p.Z)({},P,{className:C}),n)}N.handledProps=["active","as","children","className","collapsing","content","disabled","error","icon","negative","positive","selectable","singleLine","textAlign","verticalAlign","warning","width"],N.defaultProps={as:"td"},N.propTypes={},N.create=(0,G.u5)(N,(function(e){return{content:e}}));var k=N;function R(e){var t=e.children,n=e.className,r=e.content,a=e.fullWidth,l=(0,v.Z)((0,m.lG)(a,"full-width"),n),s=(0,h.Z)(R,e),i=(0,Z.Z)(R,e);return d.createElement(i,(0,p.Z)({},s,{className:l}),b.kK(t)?r:t)}R.handledProps=["as","children","className","content","fullWidth"],R.defaultProps={as:"thead"},R.propTypes={};var C=R;function P(e){var t=e.as,n=(0,h.Z)(P,e);return d.createElement(C,(0,p.Z)({},n,{as:t}))}P.handledProps=["as"],P.propTypes={},P.defaultProps={as:"tfoot"};var E=P;function x(e){var t=e.as,n=e.className,r=e.sorted,a=(0,v.Z)((0,m.cD)(r,"sorted"),n),l=(0,h.Z)(x,e);return d.createElement(k,(0,p.Z)({},l,{as:t,className:a}))}x.handledProps=["as","className","sorted"],x.propTypes={},x.defaultProps={as:"th"};var A=x;function T(e){var t=e.active,n=e.cellAs,r=e.cells,a=e.children,l=e.className,s=e.disabled,i=e.error,o=e.negative,c=e.positive,u=e.textAlign,g=e.verticalAlign,y=e.warning,G=(0,v.Z)((0,m.lG)(t,"active"),(0,m.lG)(s,"disabled"),(0,m.lG)(i,"error"),(0,m.lG)(o,"negative"),(0,m.lG)(c,"positive"),(0,m.lG)(y,"warning"),(0,m.X4)(u),(0,m.Ok)(g),l),w=(0,h.Z)(T,e),N=(0,Z.Z)(T,e);return b.kK(a)?d.createElement(N,(0,p.Z)({},w,{className:G}),(0,f.Z)(r,(function(e){return k.create(e,{defaultProps:{as:n}})}))):d.createElement(N,(0,p.Z)({},w,{className:G}),a)}T.handledProps=["active","as","cellAs","cells","children","className","disabled","error","negative","positive","textAlign","verticalAlign","warning"],T.defaultProps={as:"tr",cellAs:"td"},T.propTypes={},T.create=(0,G.u5)(T,(function(e){return{cells:e}}));var q=T;function D(e){var t=e.attached,n=e.basic,r=e.celled,a=e.children,l=e.className,s=e.collapsing,i=e.color,o=e.columns,c=e.compact,u=e.definition,g=e.fixed,G=e.footerRow,w=e.headerRow,N=e.headerRows,k=e.inverted,R=e.padded,P=e.renderBodyRow,x=e.selectable,A=e.singleLine,T=e.size,_=e.sortable,z=e.stackable,I=e.striped,K=e.structured,U=e.tableData,B=e.textAlign,H=e.unstackable,O=e.verticalAlign,F=(0,v.Z)("ui",i,T,(0,m.lG)(r,"celled"),(0,m.lG)(s,"collapsing"),(0,m.lG)(u,"definition"),(0,m.lG)(g,"fixed"),(0,m.lG)(k,"inverted"),(0,m.lG)(x,"selectable"),(0,m.lG)(A,"single line"),(0,m.lG)(_,"sortable"),(0,m.lG)(z,"stackable"),(0,m.lG)(I,"striped"),(0,m.lG)(K,"structured"),(0,m.lG)(H,"unstackable"),(0,m.sU)(t,"attached"),(0,m.sU)(n,"basic"),(0,m.sU)(c,"compact"),(0,m.sU)(R,"padded"),(0,m.X4)(B),(0,m.Ok)(O),(0,m.H0)(o,"column"),"table",l),L=(0,h.Z)(D,e),X=(0,Z.Z)(D,e);if(!b.kK(a))return d.createElement(X,(0,p.Z)({},L,{className:F}),a);var W={defaultProps:{cellAs:"th"}},S=(w||N)&&d.createElement(C,null,q.create(w,W),(0,f.Z)(N,(function(e){return q.create(e,W)})));return d.createElement(X,(0,p.Z)({},L,{className:F}),S,d.createElement(y,null,P&&(0,f.Z)(U,(function(e,t){return q.create(P(e,t))}))),G&&d.createElement(E,null,q.create(G)))}D.handledProps=["as","attached","basic","celled","children","className","collapsing","color","columns","compact","definition","fixed","footerRow","headerRow","headerRows","inverted","padded","renderBodyRow","selectable","singleLine","size","sortable","stackable","striped","structured","tableData","textAlign","unstackable","verticalAlign"],D.defaultProps={as:"table"},D.propTypes={},D.Body=y,D.Cell=k,D.Footer=E,D.Header=C,D.HeaderCell=A,D.Row=q;var _=D,z=n(48237),I=n(27904),K=n(77513),U=n(68251),B=n(63349),H=n(96156),O=n(3542),F=d.createElement;function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var X=function(e){(0,o.Z)(n,e);var t=L(n);function n(){var e;(0,s.Z)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),(0,H.Z)((0,B.Z)(e),"onApprove",(0,l.Z)(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,U.Z)(e.props.address),t.next=3,O.Z.eth.getAccounts();case 3:return r=t.sent,t.next=6,n.methods.approveRequest(e.props.id).send({from:r[0]});case 6:case"end":return t.stop()}}),t)})))),(0,H.Z)((0,B.Z)(e),"onFinalize",(0,l.Z)(a().mark((function t(){var n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,U.Z)(e.props.address),t.next=3,O.Z.eth.getAccounts();case 3:return r=t.sent,t.next=6,n.methods.finalizeRequest(e.props.id).send({from:r[0]});case 6:case"end":return t.stop()}}),t)})))),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=_.Row,t=_.Cell,n=this.props,r=n.id,a=n.request,l=n.approversCount,s=a.approvalCount>l/2;return F(e,{disabled:a.complete,positive:s&&!a.complete},F(t,null,r),F(t,null,a.description),F(t,null,O.Z.utils.fromWei(a.value,"ether")),F(t,null,a.recipient),F(t,null,a.approvalCount,"/",l),F(t,null,a.complete?null:F(z.Z,{color:"green",basic:!0,onClick:this.onApprove},"Approve")),F(t,null,a.complete?null:F(z.Z,{color:"teal",basic:!0,onClick:this.onFinalize},"Finalize")))}}]),n}(d.Component),W=d.createElement;function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var j=function(e){(0,o.Z)(n,e);var t=S(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"renderRows",value:function(){var e=this;return this.props.requests.map((function(t,n){return W(X,{key:n,id:n,request:t,address:e.props.address,approversCount:e.props.approversCount})}))}},{key:"render",value:function(){var e=_.Header,t=_.Row,n=_.HeaderCell,r=_.Body;return W(K.Z,null,W("h3",null,"Requests"),W(I.Link,{route:"/campaigns/".concat(this.props.address,"/requests/new")},W("a",null,W(z.Z,{primary:!0,floated:"right",style:{marginBottom:10}},"Add Request"))),W(_,null,W(e,null,W(t,null,W(n,null,"ID"),W(n,null,"Description"),W(n,null,"Amount"),W(n,null,"Recipient"),W(n,null,"Approval Count"),W(n,null,"Approve"),W(n,null,"Finalize"))),W(r,null,this.renderRows())),W("div",null,"Found ",this.props.requestCount," requests."))}}],[{key:"getInitialProps",value:function(){var e=(0,l.Z)(a().mark((function e(t){var n,r,l,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.address,r=(0,U.Z)(n),e.next=4,r.methods.getRequestsCount().call();case 4:return l=e.sent,e.next=7,r.methods.approversCount().call();case 7:return s=e.sent,e.next=10,Promise.all(Array(parseInt(l)).fill().map((function(e,t){return r.methods.requests(t).call()})));case 10:return i=e.sent,e.abrupt("return",{address:n,requests:i,requestCount:l,approversCount:s});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(d.Component)},19553:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/requests",function(){return n(56854)}])},48237:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(22122),a=n(41788),l=n(23715),s=n(55288),i=n(65417),o=n(86010),c=(n(45697),n(67294)),u=n(92248),d=n(92063),p=n(28935),f=n(12519),v=n(17186),m=n(65382),h=n(87401);function Z(e){var t=e.children,n=e.className,a=e.content,l=e.hidden,s=e.visible,i=(0,o.Z)((0,d.lG)(s,"visible"),(0,d.lG)(l,"hidden"),"content",n),v=(0,p.Z)(Z,e),m=(0,f.Z)(Z,e);return c.createElement(m,(0,r.Z)({},v,{className:i}),u.kK(t)?a:t)}Z.handledProps=["as","children","className","content","hidden","visible"],Z.propTypes={};var b=Z,g=n(36744);function y(e){var t=e.attached,n=e.basic,a=e.buttons,l=e.children,i=e.className,v=e.color,m=e.compact,h=e.content,Z=e.floated,b=e.fluid,G=e.icon,w=e.inverted,N=e.labeled,k=e.negative,C=e.positive,P=e.primary,E=e.secondary,x=e.size,A=e.toggle,T=e.vertical,q=e.widths,D=(0,o.Z)("ui",v,x,(0,d.lG)(n,"basic"),(0,d.lG)(m,"compact"),(0,d.lG)(b,"fluid"),(0,d.lG)(G,"icon"),(0,d.lG)(w,"inverted"),(0,d.lG)(N,"labeled"),(0,d.lG)(k,"negative"),(0,d.lG)(C,"positive"),(0,d.lG)(P,"primary"),(0,d.lG)(E,"secondary"),(0,d.lG)(A,"toggle"),(0,d.lG)(T,"vertical"),(0,d.sU)(t,"attached"),(0,d.cD)(Z,"floated"),(0,d.H0)(q),"buttons",i),_=(0,p.Z)(y,e),z=(0,f.Z)(y,e);return(0,s.Z)(a)?c.createElement(z,(0,r.Z)({},_,{className:D}),u.kK(l)?h:l):c.createElement(z,(0,r.Z)({},_,{className:D}),(0,g.Z)(a,(function(e){return R.create(e)})))}y.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],y.propTypes={};var G=y;function w(e){var t=e.className,n=e.text,a=(0,o.Z)("or",t),l=(0,p.Z)(w,e),s=(0,f.Z)(w,e);return c.createElement(s,(0,r.Z)({},l,{className:a,"data-text":n}))}w.handledProps=["as","className","text"],w.propTypes={};var N=w,k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,c.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!(0,s.Z)(n)||!(0,s.Z)(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,a=n.tabIndex;return(0,s.Z)(a)?r?-1:"div"===e?0:void 0:a},t.focus=function(){return(0,l.Z)(t.ref.current,"focus")},t.handleClick=function(e){t.props.disabled?e.preventDefault():(0,l.Z)(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,a=e.content,l=e.icon;return!0===l||l&&(n||u.kK(r)&&(0,s.Z)(a))},t}(0,a.Z)(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return(0,s.Z)(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,a=e.animated,l=e.attached,v=e.basic,Z=e.children,b=e.circular,g=e.className,y=e.color,G=e.compact,w=e.content,N=e.disabled,k=e.floated,R=e.fluid,C=e.icon,P=e.inverted,E=e.label,x=e.labelPosition,A=e.loading,T=e.negative,q=e.positive,D=e.primary,_=e.secondary,z=e.size,I=e.toggle,K=(0,o.Z)(y,z,(0,d.lG)(n,"active"),(0,d.lG)(v,"basic"),(0,d.lG)(b,"circular"),(0,d.lG)(G,"compact"),(0,d.lG)(R,"fluid"),(0,d.lG)(this.hasIconClass(),"icon"),(0,d.lG)(P,"inverted"),(0,d.lG)(A,"loading"),(0,d.lG)(T,"negative"),(0,d.lG)(q,"positive"),(0,d.lG)(D,"primary"),(0,d.lG)(_,"secondary"),(0,d.lG)(I,"toggle"),(0,d.sU)(a,"animated"),(0,d.sU)(l,"attached")),U=(0,o.Z)((0,d.sU)(x||!!E,"labeled")),B=(0,o.Z)((0,d.lG)(N,"disabled"),(0,d.cD)(k,"floated")),H=(0,p.Z)(t,this.props),O=(0,f.Z)(t,this.props,this.computeElementType),F=this.computeTabIndex(O);if(!(0,s.Z)(E)){var L=(0,o.Z)("ui",K,"button",g),X=(0,o.Z)("ui",U,"button",g,B),W=h.Z.create(E,{defaultProps:{basic:!0,pointing:"left"===x?"right":"left"},autoGenerateKey:!1});return c.createElement(O,(0,r.Z)({},H,{className:X,onClick:this.handleClick}),"left"===x&&W,c.createElement(i.R,{innerRef:this.ref},c.createElement("button",{className:L,"aria-pressed":I?!!n:void 0,disabled:N,tabIndex:F},m.Z.create(C,{autoGenerateKey:!1})," ",w)),("right"===x||!x)&&W)}var S=(0,o.Z)("ui",K,B,U,"button",g),j=!u.kK(Z),J=this.computeButtonAriaRole(O);return c.createElement(i.R,{innerRef:this.ref},c.createElement(O,(0,r.Z)({},H,{className:S,"aria-pressed":I?!!n:void 0,disabled:N&&"button"===O||void 0,onClick:this.handleClick,role:J,tabIndex:F}),j&&Z,!j&&m.Z.create(C,{autoGenerateKey:!1}),!j&&w))},t}(c.Component);k.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle"],k.propTypes={},k.defaultProps={as:"button"},k.Content=b,k.Group=G,k.Or=N,k.create=(0,v.u5)(k,(function(e){return{content:e}}));var R=k}},function(e){e.O(0,[774,828,735,834,456,873,417,406,888,179],(function(){return t=19553,e(e.s=t);var t}));var t=e.O();_N_E=t}]);